## Goal
用七牛云 minimax/minimax-m2 路由在保持外部标签为 `QwenCoderTurbo` 的前提下跑一小片段（HumanEval 0–10），验证非空输出和通过率，并把该结果计入 `QwenCoderTurbo · MapCoder`，随后生成 HumanEvalET 与刷新图表。

## 路由与环境
1. 在当前终端设置以下环境变量（不改代码，不改 .env）：
   - `API_TYPE=openai`
   - `OPENAI_API_BASE=https://api.qnaigc.com/v1`
   - `OPENAI_API_KEY=<你提供的七牛云 Key>`
   - `QWEN_CODER_TURBO_MODEL=minimax/minimax-m2`
   - 可选：`OPENAI_STREAM=1`（若该端仅流式返回，启用聚合）

2. 保持运行命令里的 `--model QwenCoderTurbo`，让结果文件名与汇总路径以 Turbo 标记写入。

## 小片段运行（HumanEval）
1. 运行 10 条：
   - `python scripts/run_parallel.py --dataset HumanEval --strategy MapCoder --model QwenCoderTurbo --language Python3 --pass_at_k 5 --processes 1 --logs-prefix humaneval_turbo_minimax_probe_ --start-index 0 --end-index 10 --discard-previous-run`
2. 验证：打开 `results\QwenCoderTurbo-MapCoder-HumanEval-Python3-0.0-5p1.jsonl` 检查：
   - `responses` 和 `source_codes` 非空
   - 记录 `no_of_try` 与是否 `is_solved`

## 合并与汇总（片段）
1. 如需单文件合并：
   - `python scripts/merge_results.py --dataset HumanEval --strategy MapCoder --model QwenCoderTurbo --language Python3 --temperature 0.0 --pass_at_k 5 --results_dir results --single_path QwenCoderTurbo-MapCoder-HumanEval-Python3-0.0-5p1.jsonl`
2. 更新汇总与图表（不会删除旧数据，仅追加）：
   - `python scripts/update_results_summaries.py`
   - `python scripts/generate_progress_charts.py`
   - 若仍看到缓存，复制到 `images\progress\Compare\latest\compare_models_HumanEval_<ts>.png`

## HumanEvalET 生成
1. 基于上述合并文件生成 ET（自动修复 3–5 次）：
   - `python src\evaluate-et-dataset.py --dataset HumanEvalET --strategy MapCoder --model QwenCoderTurbo --language Python3 --temperature 0.0 --pass_at_k 1 --results_dir results --normal_results_path results\HumanEval\QwenCoderTurbo-MapCoder-HumanEval-Python3-0.0-5-merged.jsonl --repair_attempts 5`
2. 刷新 Compare：
   - `python scripts/generate_progress_charts.py`
   - 复制最新图到 `images\progress\Compare\latest\compare_models_HumanEvalET_<ts>.png`

## 验证与回退
- 若 `responses/source_codes` 仍为空：
  - 降低提示复杂度：保持 Turbo 简化首段（仅输出代码、无 Markdown、无解释），减少消息轮数
  - 降低并发、继续启用 `OPENAI_STREAM=1`
  - 如仍空，回退到可用的北京地域 `qwen3-coder-plus`，仍以 `QwenCoderTurbo` 标签记账

## 交付
- 提供：小片段的通过率、已合并文件路径、ET 通过率、Compare 最新图时间戳与路径
- 保留 `QwenCoderTurbo` 外部标签，确保所有统计与图表都以 Turbo 计入