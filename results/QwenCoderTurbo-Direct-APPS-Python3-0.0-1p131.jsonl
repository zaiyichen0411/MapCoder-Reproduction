{"name": "2009", "description": "For a vector $\\vec{v} = (x, y)$, define $|v| = \\sqrt{x^2 + y^2}$.\n\nAllen had a bit too much to drink at the bar, which is at the origin. There are $n$ vectors $\\vec{v_1}, \\vec{v_2}, \\cdots, \\vec{v_n}$. Allen will make $n$ moves. As Allen's sense of direction is impaired, during the $i$-th move he will either move in the direction $\\vec{v_i}$ or $-\\vec{v_i}$. In other words, if his position is currently $p = (x, y)$, he will either move to $p + \\vec{v_i}$ or $p - \\vec{v_i}$.\n\nAllen doesn't want to wander too far from home (which happens to also be the bar). You need to help him figure out a sequence of moves (a sequence of signs for the vectors) such that his final position $p$ satisfies $|p| \\le 1.5 \\cdot 10^6$ so that he can stay safe.\n\n\n-----Input-----\n\nThe first line contains a single integer $n$ ($1 \\le n \\le 10^5$)\u00a0\u2014 the number of moves.\n\nEach of the following lines contains two space-separated integers $x_i$ and $y_i$, meaning that $\\vec{v_i} = (x_i, y_i)$. We have that $|v_i| \\le 10^6$ for all $i$.\n\n\n-----Output-----\n\nOutput a single line containing $n$ integers $c_1, c_2, \\cdots, c_n$, each of which is either $1$ or $-1$. Your solution is correct if the value of $p = \\sum_{i = 1}^n c_i \\vec{v_i}$, satisfies $|p| \\le 1.5 \\cdot 10^6$.\n\nIt can be shown that a solution always exists under the given constraints.\n\n\n-----Examples-----\nInput\n3\n999999 0\n0 999999\n999999 0\n\nOutput\n1 1 -1 \n\nInput\n1\n-824590 246031\n\nOutput\n1 \n\nInput\n8\n-67761 603277\n640586 -396671\n46147 -122580\n569609 -2112\n400 914208\n131792 309779\n-850150 -486293\n5272 721899\n\nOutput\n1 1 1 1 1 1 1 -1", "difficulty": "competition", "id": 2009, "sample_io": [{"input": "3\n999999 0\n0 999999\n999999 0\n", "output": ["1 1 -1 \n"]}, {"input": "1\n-824590 246031\n", "output": ["1 \n"]}, {"input": "8\n-67761 603277\n640586 -396671\n46147 -122580\n569609 -2112\n400 914208\n131792 309779\n-850150 -486293\n5272 721899\n", "output": ["1 1 1 1 1 1 1 -1 \n"]}], "test_list": [{"input": "3\n999999 0\n0 999999\n999999 0\n", "output": ["1 1 -1 \n"]}, {"input": "1\n-824590 246031\n", "output": ["1 \n"]}, {"input": "8\n-67761 603277\n640586 -396671\n46147 -122580\n569609 -2112\n400 914208\n131792 309779\n-850150 -486293\n5272 721899\n", "output": ["1 1 1 1 1 1 1 -1 \n"]}, {"input": "6\n1000000 0\n1000000 0\n-1000000 0\n0 1000000\n0 -1000000\n0 -1000000\n", "output": ["1 1 1 1 1 1 \n"]}, {"input": "8\n-411248 143802\n300365 629658\n363219 343742\n396148 -94037\n-722124 467785\n-178147 -931253\n265458 73307\n-621502 -709713\n", "output": ["1 1 1 1 1 1 1 -1 \n"]}, {"input": "3\n1000000 0\n0 999999\n600000 -600000\n", "output": ["-1 1 1 \n"]}, {"input": "5\n140239 46311\n399464 -289055\n-540174 823360\n538102 -373313\n326189 933934\n", "output": ["1 1 1 1 -1 \n"]}, {"input": "3\n1000000 0\n0 999999\n300000 -300000\n", "output": ["1 1 -1 \n"]}, {"input": "9\n1000000 0\n0 -999999\n600000 600000\n600000 600000\n600000 600000\n-600000 -600000\n600000 600000\n600000 600000\n-700000 710000\n", "output": ["1 1 1 -1 1 1 1 -1 1 \n"]}, {"input": "2\n1 999999\n1 -999999\n", "output": ["1 1 \n"]}, {"input": "2\n999999 1\n999999 -1\n", "output": ["1 -1 \n"]}, {"input": "2\n-1 999999\n-1 -999999\n", "output": ["1 1 \n"]}, {"input": "2\n-999999 -1\n-999999 1\n", "output": ["1 -1 \n"]}, {"input": "2\n999999 1\n-999999 1\n", "output": ["1 1 \n"]}, {"input": "2\n999999 -1\n-999999 -1\n", "output": ["1 1 \n"]}, {"input": "2\n1 999999\n-1 999999\n", "output": ["1 -1 \n"]}, {"input": "2\n1 -999999\n-1 -999999\n", "output": ["1 -1 \n"]}, {"input": "4\n1000000 0\n-1 999999\n600000 -600000\n0 0\n", "output": ["-1 1 1 1 \n"]}, {"input": "2\n999999 -1\n-1 999999\n", "output": ["1 1 \n"]}], "starter_code": "", "source_codes": ["\nimport sys\nimport math\n\ndef main():\n    import sys\n    input = sys.stdin.read\n    data = input().split()\n    \n    n = int(data[0])\n    vectors = []\n    idx = 1\n    for _ in range(n):\n        x = int(data[idx])\n        y = int(data[idx + 1])\n        vectors.append((x, y))\n        idx += 2\n\n    # Initialize position\n    x, y = 0, 0\n    result = []\n\n    for (dx, dy) in vectors:\n        # Try adding the vector\n        new_x = x + dx\n        new_y = y + dy\n        dist_plus = math.hypot(new_x, new_y)\n\n        # Try subtracting the vector\n        new_x_neg = x - dx\n        new_y_neg = y - dy\n        dist_neg = math.hypot(new_x_neg, new_y_neg)\n\n        # Choose the direction that keeps the position closer to the origin\n        if dist_plus <= dist_neg:\n            result.append(1)\n            x, y = new_x, new_y\n        else:\n            result.append(-1)\n            x, y = new_x_neg, new_y_neg\n\n    print(' '.join(map(str, result)))\n\nif __name__ == \"__main__\":\n    main()\n\n\n"], "responses": ["Here's a Python 3 solution that follows the problem's requirements. The idea is to greedily choose the direction of each vector to keep the cumulative position as close to the origin as possible. This approach ensures that the final position is within the required bound.\n\n```python\nimport sys\nimport math\n\ndef main():\n    import sys\n    input = sys.stdin.read\n    data = input().split()\n    \n    n = int(data[0])\n    vectors = []\n    idx = 1\n    for _ in range(n):\n        x = int(data[idx])\n        y = int(data[idx + 1])\n        vectors.append((x, y))\n        idx += 2\n\n    # Initialize position\n    x, y = 0, 0\n    result = []\n\n    for (dx, dy) in vectors:\n        # Try adding the vector\n        new_x = x + dx\n        new_y = y + dy\n        dist_plus = math.hypot(new_x, new_y)\n\n        # Try subtracting the vector\n        new_x_neg = x - dx\n        new_y_neg = y - dy\n        dist_neg = math.hypot(new_x_neg, new_y_neg)\n\n        # Choose the direction that keeps the position closer to the origin\n        if dist_plus <= dist_neg:\n            result.append(1)\n            x, y = new_x, new_y\n        else:\n            result.append(-1)\n            x, y = new_x_neg, new_y_neg\n\n    print(' '.join(map(str, result)))\n\nif __name__ == \"__main__\":\n    main()\n```"], "prompt_tokens": [764], "completion_tokens": [331], "no_of_try": 1, "is_solved": false, "language": "Python3", "task_id": 2009}
